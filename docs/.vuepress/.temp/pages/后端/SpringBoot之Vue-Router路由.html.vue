<template><div><h1 id="springbootä¹‹vue-routerè·¯ç”±" tabindex="-1"><a class="header-anchor" href="#springbootä¹‹vue-routerè·¯ç”±" aria-hidden="true">#</a> SpringBootä¹‹Vue-Routerè·¯ç”±</h1>
<h3 id="_1ã€vuerouterå®‰è£…" tabindex="-1"><a class="header-anchor" href="#_1ã€vuerouterå®‰è£…" aria-hidden="true">#</a> 1ã€VueRouterå®‰è£…â°</h3>
<div class="language-css line-numbers-mode" data-ext="css"><pre v-pre class="language-css"><code>Vueè·¯ç”±vue-routeræ˜¯å®˜æ–¹çš„è·¯ç”±æ’ä»¶ï¼Œèƒ½å¤Ÿè½»æ¾çš„ç®¡ç† SPA é¡¹ç›®ä¸­ç»„ä»¶çš„åˆ‡æ¢ã€‚

Vueçš„å•é¡µé¢åº”ç”¨æ˜¯åŸºäºè·¯ç”±å’Œç»„ä»¶çš„ï¼Œè·¯ç”±ç”¨äºè®¾å®šè®¿é—®è·¯å¾„ï¼Œå¹¶å°†è·¯å¾„å’Œç»„ä»¶æ˜ å°„èµ·æ¥

vue-router ç›®å‰æœ‰ 3.x çš„ç‰ˆæœ¬å’Œ 4.x çš„ç‰ˆæœ¬ï¼Œvue-router 3.x åªèƒ½ç»“åˆ vue2 è¿›è¡Œä½¿ç”¨ï¼Œvue-router 4.x åªèƒ½ç»“åˆ vue3 è¿›è¡Œä½¿ç”¨
å®‰è£…ï¼šnpm install vue-router@4
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2ã€é…ç½®" tabindex="-1"><a class="header-anchor" href="#_2ã€é…ç½®" aria-hidden="true">#</a> 2ã€é…ç½®ğŸ‘¶</h3>
<div class="language-javascript line-numbers-mode" data-ext="js"><pre v-pre class="language-javascript"><code>router<span class="token operator">/</span>index<span class="token punctuation">.</span>js
<span class="token keyword">import</span> VueRouter <span class="token keyword">from</span> <span class="token string">"vue-router"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">"vue"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> Discover <span class="token keyword">from</span> <span class="token string">'../components/Discover.vue'</span>
<span class="token keyword">import</span> Friends <span class="token keyword">from</span> <span class="token string">'../components/Friends.vue'</span>
<span class="token keyword">import</span> My <span class="token keyword">from</span> <span class="token string">'../components/My.vue'</span>
<span class="token keyword">import</span> TopList <span class="token keyword">from</span> <span class="token string">'../components/TopList'</span>
<span class="token keyword">import</span> PlayList <span class="token keyword">from</span> <span class="token string">'../components/PlayList'</span>
<span class="token keyword">import</span> Product <span class="token keyword">from</span> <span class="token string">'../components/Product'</span>

Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>VueRouter<span class="token punctuation">)</span>

<span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VueRouter</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token comment">// æŒ‡å®šhashå±æ€§ä¸ç»„ä»¶çš„å¯¹åº”å…³ç³»</span>
    <span class="token literal-property property">routes</span><span class="token operator">:</span> <span class="token punctuation">[</span>
       <span class="token punctuation">{</span><span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/'</span><span class="token punctuation">,</span><span class="token literal-property property">redirect</span><span class="token operator">:</span><span class="token string">"/discover"</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
       <span class="token punctuation">{</span> <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/discover'</span><span class="token punctuation">,</span> 
         <span class="token literal-property property">component</span><span class="token operator">:</span> Discover<span class="token punctuation">,</span>
         <span class="token comment">// é€šè¿‡childrenå±æ€§ï¼ŒåµŒå¥—å£°æ˜å­è·¯ç”±</span>
         <span class="token literal-property property">children</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span><span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">"toplist"</span><span class="token punctuation">,</span><span class="token literal-property property">component</span><span class="token operator">:</span>TopList<span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span><span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">"playlist"</span><span class="token punctuation">,</span><span class="token literal-property property">component</span><span class="token operator">:</span>PlayList<span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span>
       <span class="token punctuation">}</span><span class="token punctuation">,</span>
       <span class="token punctuation">{</span> <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/friends'</span><span class="token punctuation">,</span> <span class="token literal-property property">component</span><span class="token operator">:</span> Friends <span class="token punctuation">}</span><span class="token punctuation">,</span>
       <span class="token punctuation">{</span> <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/my'</span><span class="token punctuation">,</span> 
         <span class="token literal-property property">component</span><span class="token operator">:</span> My<span class="token punctuation">,</span>
         <span class="token literal-property property">children</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span><span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">":id"</span><span class="token punctuation">,</span><span class="token literal-property property">component</span><span class="token operator">:</span>Product<span class="token punctuation">,</span><span class="token literal-property property">props</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span>
       <span class="token punctuation">}</span><span class="token punctuation">,</span>
       
   <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> router
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript line-numbers-mode" data-ext="js"><pre v-pre class="language-javascript"><code>main<span class="token punctuation">.</span>js
<span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">'./App.vue'</span>
<span class="token keyword">import</span> router <span class="token keyword">from</span> <span class="token string">'./router'</span>
Vue<span class="token punctuation">.</span>config<span class="token punctuation">.</span>productionTip <span class="token operator">=</span> <span class="token boolean">false</span>

<span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function-variable function">render</span><span class="token operator">:</span> <span class="token parameter">h</span> <span class="token operator">=></span> <span class="token function">h</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span><span class="token punctuation">,</span>
  router
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">$mount</span><span class="token punctuation">(</span><span class="token string">'#app'</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3ã€è°ƒç”¨" tabindex="-1"><a class="header-anchor" href="#_3ã€è°ƒç”¨" aria-hidden="true">#</a> 3ã€è°ƒç”¨ğŸ“‘</h3>
<div class="language-vue line-numbers-mode" data-ext="vue"><pre v-pre class="language-vue"><code>App.vue
<span class="token comment">&lt;!-- å£°æ˜è·¯ç”±é“¾æ¥ --></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/discover<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>å‘ç°éŸ³ä¹<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/my<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>æˆ‘çš„éŸ³ä¹<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/friends<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>å…³æ³¨<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">></span></span>
   <span class="token comment">&lt;!-- å£°æ˜è·¯ç”±å ä½æ ‡ç­¾ --></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-view</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-view</span><span class="token punctuation">></span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4ã€åŠ¨æ€è·¯ç”±" tabindex="-1"><a class="header-anchor" href="#_4ã€åŠ¨æ€è·¯ç”±" aria-hidden="true">#</a> 4ã€<strong>åŠ¨æ€è·¯ç”±</strong>ğŸƒ</h3>
<div class="language-vue line-numbers-mode" data-ext="vue"><pre v-pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/product/1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>å•†å“1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/product/2<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>å•†å“2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/product/3<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>å•†å“3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">></span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript line-numbers-mode" data-ext="js"><pre v-pre class="language-javascript"><code><span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VueRouter</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
<span class="token comment">// æŒ‡å®šhashå±æ€§ä¸ç»„ä»¶çš„å¯¹åº”å…³ç³»</span>
<span class="token literal-property property">routes</span><span class="token operator">:</span> <span class="token punctuation">[</span>
<span class="token punctuation">{</span> <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/product/1'</span><span class="token punctuation">,</span> <span class="token literal-property property">component</span><span class="token operator">:</span> Product <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">{</span> <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/product/2'</span><span class="token punctuation">,</span> <span class="token literal-property property">component</span><span class="token operator">:</span> Product <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">{</span> <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/product/3'</span><span class="token punctuation">,</span> <span class="token literal-property property">component</span><span class="token operator">:</span> Product <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript line-numbers-mode" data-ext="js"><pre v-pre class="language-javascript"><code><span class="token punctuation">{</span> <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/product/:id'</span><span class="token punctuation">,</span><span class="token literal-property property">component</span><span class="token operator">:</span>Product <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote>
<p>é€šè¿‡åŠ¨æ€è·¯ç”±åŒ¹é…çš„æ–¹å¼æ¸²æŸ“å‡ºæ¥çš„ç»„ä»¶ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ $route.params å¯¹è±¡è®¿é—®åˆ°åŠ¨æ€åŒ¹é…çš„å‚æ•°å€¼ï¼Œ</p>
<p><strong>æ¯”å¦‚åœ¨å•†å“è¯¦æƒ…ç»„ä»¶çš„å†…éƒ¨ï¼Œæ ¹æ®idå€¼ï¼Œè¯·æ±‚ä¸åŒçš„å•†å“æ•°æ®</strong>ã€‚</p>
</blockquote>
<div class="language-vue line-numbers-mode" data-ext="vue"><pre v-pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span>Productç»„ä»¶<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>
<span class="token comment">&lt;!-- è·å–åŠ¨æ€çš„idå€¼ --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>{{$route.params.id}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
<span class="token comment">// ç»„ä»¶çš„åç§°</span>
<span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'Product'</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote>
<p>ä¸ºäº†ç®€åŒ–è·¯ç”±å‚æ•°çš„è·å–å½¢å¼ï¼Œvue-router å…è®¸åœ¨è·¯ç”±è§„åˆ™ä¸­å¼€å¯ props ä¼ å‚ã€‚ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p>
</blockquote>
<div class="language-javascript line-numbers-mode" data-ext="js"><pre v-pre class="language-javascript"><code><span class="token punctuation">{</span> <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/product/:id'</span><span class="token punctuation">,</span><span class="token literal-property property">component</span><span class="token operator">:</span> Product<span class="token punctuation">,</span> <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-vue line-numbers-mode" data-ext="vue"><pre v-pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span>Productç»„ä»¶<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>
<span class="token comment">&lt;!-- è·å–åŠ¨æ€çš„idå€¼ --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>{{id}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span>
export default {
// ç»„ä»¶çš„åç§°
name: 'Product',
props : [id]
}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scrip</span><span class="token punctuation">></span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_5ã€å¯¼èˆªå®ˆå«" tabindex="-1"><a class="header-anchor" href="#_5ã€å¯¼èˆªå®ˆå«" aria-hidden="true">#</a> 5ã€å¯¼èˆªå®ˆå«â›¹ï¸â€â™‚ï¸</h3>
<div class="language-css line-numbers-mode" data-ext="css"><pre v-pre class="language-css"><code>vue-routeræä¾›çš„å¯¼èˆªå®ˆå«ä¸»è¦ç”¨æ¥æ‹¦æˆªå¯¼èˆªï¼Œè®©å®ƒå®Œæˆè·³è½¬æˆ–å–æ¶ˆã€‚

toï¼šRouteï¼šå³å°†è¦è¿›å…¥çš„ç›®æ ‡è·¯ç”±ã€‚

fromï¼šRouteï¼šå½“å‰å¯¼èˆªæ­£è¦ç¦»å¼€çš„è·¯ç”±ã€‚

nextï¼šåœ¨å®ˆå«æ–¹æ³•ä¸­å¦‚æœå£°æ˜äº†nextå½¢å‚ï¼Œåˆ™å¿…é¡»è°ƒç”¨ <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span> å‡½æ•°ï¼Œå¦åˆ™ä¸å…è®¸ç”¨æˆ·è®¿é—®ä»»ä½•ä¸€ä¸ªè·¯ç”±

ç›´æ¥æ”¾è¡Œï¼š<span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>ï¼Œå¼ºåˆ¶å…¶è·³è½¬åˆ°ç™»å½•é¡µé¢ï¼š<span class="token function">next</span><span class="token punctuation">(</span><span class="token string">'/login'</span><span class="token punctuation">)</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="C:\Users\ZZZYY\AppData\Roaming\Typora\typora-user-images\image-20221122202712367.png" alt="image-20221122202712367"></p>
</div></template>


